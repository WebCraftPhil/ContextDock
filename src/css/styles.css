@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== BASE STYLES ===== */
@layer base {
  :root {
    --contextdock-primary: #0ea5e9;
    --contextdock-primary-hover: #0284c7;
    --contextdock-surface: #ffffff;
    --contextdock-surface-secondary: #f8fafc;
    --contextdock-text: #0f172a;
    --contextdock-text-secondary: #64748b;
    --contextdock-border: #e2e8f0;
  }

  .dark {
    --contextdock-primary: #0ea5e9;
    --contextdock-primary-hover: #0284c7;
    --contextdock-surface: #0f172a;
    --contextdock-surface-secondary: #1e293b;
    --contextdock-text: #f1f5f9;
    --contextdock-text-secondary: #94a3b8;
    --contextdock-border: #334155;
  }


  body {
    @apply font-inter text-sm leading-relaxed;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
  }

  html {
    @apply scroll-smooth;
  }
}

/* ===== COMPONENT CLASSES ===== */
@layer components {
  /* ===== CARDS ===== */
  .contextdock-card {
    @apply bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 dark:border-slate-700/50;
  }

  .contextdock-card--elevated {
    @apply shadow-xl ring-1 ring-black/5 dark:ring-white/10;
  }

  .contextdock-card--interactive {
    @apply transition-all duration-200 hover:shadow-xl hover:scale-[1.02] cursor-pointer;
  }

  /* ===== BUTTONS ===== */
  .contextdock-button {
    @apply inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-contextdock-500/20;
  }

  .contextdock-button--primary {
    @apply bg-contextdock-500 text-white shadow-soft hover:bg-contextdock-600 hover:shadow-glow focus:ring-contextdock-500/30;
  }

  .contextdock-button--secondary {
    @apply bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-600 shadow-soft hover:bg-slate-50 dark:hover:bg-slate-700 hover:shadow-medium;
  }

  .contextdock-button--ghost {
    @apply text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100 hover:bg-slate-100 dark:hover:bg-slate-800;
  }

  .contextdock-button--small {
    @apply px-3 py-1.5 text-xs;
  }

  .contextdock-button--large {
    @apply px-6 py-3 text-base;
  }

  .contextdock-button--full {
    @apply w-full;
  }

  /* ===== INPUTS ===== */
  .contextdock-input {
    @apply w-full px-3 py-2 text-sm bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 rounded-xl transition-all duration-200 placeholder:text-slate-400 dark:placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-contextdock-500/20 focus:border-contextdock-500;
  }

  .contextdock-input--error {
    @apply border-red-300 dark:border-red-600 focus:ring-red-500/20 focus:border-red-500;
  }

  .contextdock-textarea {
    @apply contextdock-input resize-none;
    min-height: 80px;
  }

  /* ===== TAG PILLS ===== */
  .contextdock-tag {
    @apply inline-flex items-center px-2.5 py-0.5 text-xs font-medium bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-full;
  }

  .contextdock-tag--primary {
    @apply bg-contextdock-100 dark:bg-contextdock-900/50 text-contextdock-700 dark:text-contextdock-300;
  }

  .contextdock-tag--removable {
    @apply pr-1;
  }

  .contextdock-tag__remove {
    @apply ml-1 w-3 h-3 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 cursor-pointer transition-colors;
  }

  /* ===== LIST ITEMS ===== */
  .contextdock-list-item {
    @apply flex items-center px-4 py-3 rounded-xl transition-all duration-150 hover:bg-slate-50 dark:hover:bg-slate-800/50 cursor-pointer;
  }

  .contextdock-list-item--active {
    @apply bg-contextdock-50 dark:bg-contextdock-900/20 border-l-4 border-contextdock-500;
  }

  .contextdock-list-item__content {
    @apply flex-1 min-w-0;
  }

  .contextdock-list-item__title {
    @apply text-sm font-medium text-slate-900 dark:text-slate-100 truncate;
  }

  .contextdock-list-item__subtitle {
    @apply text-xs text-slate-500 dark:text-slate-400 mt-0.5 truncate;
  }

  .contextdock-list-item__actions {
    @apply flex items-center space-x-2 ml-3;
  }

  /* ===== MODALS & OVERLAYS ===== */
  .contextdock-overlay {
    @apply fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm;
  }

  .contextdock-modal {
    @apply contextdock-card p-6 max-w-md w-full mx-4 animate-fade-in;
  }

  .contextdock-modal__header {
    @apply mb-4;
  }

  .contextdock-modal__title {
    @apply text-lg font-semibold text-slate-900 dark:text-slate-100;
  }

  .contextdock-modal__subtitle {
    @apply text-sm text-slate-600 dark:text-slate-400 mt-1;
  }

  .contextdock-modal__content {
    @apply space-y-4;
  }

  .contextdock-modal__footer {
    @apply flex justify-end space-x-3 pt-4 border-t border-slate-200 dark:border-slate-700;
  }

  /* ===== UTILITIES ===== */
  .contextdock-focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-contextdock-500/20 focus:border-contextdock-500;
  }

  .contextdock-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgb(203 213 225) transparent;
  }

  .contextdock-scrollbar::-webkit-scrollbar {
    width: 6px;
  }

  .contextdock-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .contextdock-scrollbar::-webkit-scrollbar-thumb {
    background: rgb(203 213 225);
    border-radius: 3px;
  }

  .contextdock-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgb(148 163 184);
  }

  .dark .contextdock-scrollbar {
    scrollbar-color: rgb(51 65 85) transparent;
  }

  .dark .contextdock-scrollbar::-webkit-scrollbar-thumb {
    background: rgb(51 65 85);
  }

  .dark .contextdock-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgb(100 116 139);
  }

  /* ===== LAYOUT HELPERS ===== */
  .contextdock-container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .contextdock-grid {
    @apply grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3;
  }

  .contextdock-flex-center {
    @apply flex items-center justify-center;
  }

  .contextdock-flex-between {
    @apply flex items-center justify-between;
  }

  .contextdock-space-y {
    @apply space-y-4;
  }

  .contextdock-space-x {
    @apply space-x-4;
  }

  /* Text utilities */
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

/* ===== EXTENSION SPECIFIC STYLES ===== */
.contextdock-extension-popup {
  width: 400px;
  min-height: 600px;
  max-height: 80vh;
  overflow-y: auto;
}

.contextdock-extension-popup .contextdock-scrollbar {
  max-height: 80vh;
}

/* ===== RESPONSIVE ADJUSTMENTS ===== */
@media (max-width: 640px) {
  .contextdock-extension-popup {
    width: 95vw;
    max-width: 400px;
  }

  .contextdock-modal {
    @apply mx-2;
  }
}

/* ===== PRINT STYLES ===== */
@media print {
  .contextdock-card {
    @apply shadow-none border border-slate-300;
  }
}
